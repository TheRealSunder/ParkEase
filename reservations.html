<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ParkEase - My Parking</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/reservations.css">
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <div class="header">
                <div class="status-bar">
                    <span>9:41</span>
                    <span>100%</span>
                </div>
                <h1>My Parking</h1>
                <p>Reservations and private parking</p>
            </div>
            
            <div class="content">
                <!-- Main Parking Type Tabs -->
                <div class="main-tabs">
                    <div class="main-tab active" onclick="switchParkingType('public')">Public Parking</div>
                    <div class="main-tab" onclick="switchParkingType('private')">Private Parking</div>
                </div>

                <!-- Public Parking Section -->
                <div class="parking-section" id="publicSection">
                    <!-- Filter Tabs for Public -->
                    <div class="filter-tabs">
                        <div class="filter-tab active" onclick="filterReservations('all')">All</div>
                        <div class="filter-tab" onclick="filterReservations('active')">Active</div>
                        <div class="filter-tab" onclick="filterReservations('completed')">Completed</div>
                        <div class="filter-tab" onclick="filterReservations('cancelled')">Cancelled</div>
                    </div>

                    <!-- Current Reservations -->
                    <div class="reservations-section">
                        <div id="activeReservations">
                            <!-- Reserved Status -->
                            <div class="reservation-item reserved" data-status="active">
                                <div class="reservation-header">
                                    <div class="reservation-info">
                                        <div class="parking-name">EGI Taft Parking</div>
                                        <div class="reservation-date">Reserved 5 minutes ago</div>
                                    </div>
                                    <div class="reservation-status">
                                        <span class="status-badge reserved">Reserved</span>
                                    </div>
                                </div>
                                <div class="reservation-timer">
                                    <div class="timer-label">Time Remaining:</div>
                                    <div class="timer-display">24:32</div>
                                </div>
                                <div class="reservation-details">
                                    <div class="detail-item">
                                        <span>Downpayment Paid:</span>
                                        <span>₱50</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Remaining on arrival:</span>
                                        <span>₱25/hr - ₱50</span>
                                    </div>
                                </div>
                                <div class="reservation-actions">
                                    <button class="cancel-btn" onclick="cancelReservation('egi-taft')">
                                        Cancel Reservation
                                    </button>
                                    <button class="directions-btn" onclick="getDirections()">
                                        Get Directions
                                    </button>
                                </div>
                            </div>

                            <!-- Ongoing Status -->
                            <div class="reservation-item ongoing" data-status="active">
                                <div class="reservation-header">
                                    <div class="reservation-info">
                                        <div class="parking-name">NU Main Parking</div>
                                        <div class="reservation-date">Parked since 1:30 PM</div>
                                    </div>
                                    <div class="reservation-status">
                                        <span class="status-badge ongoing">Ongoing</span>
                                    </div>
                                </div>
                                <div class="ongoing-timer">
                                    <div class="timer-label">Duration:</div>
                                    <div class="timer-display ongoing-display">1h 45m</div>
                                    <div class="current-cost">Current Cost: ₱80</div>
                                </div>
                                <div class="reservation-details">
                                    <div class="detail-item">
                                        <span>Base Rate Paid:</span>
                                        <span>₱45</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Additional Hours:</span>
                                        <span>₱35 (1h 45m)</span>
                                    </div>
                                </div>
                                <div class="reservation-actions">
                                    <button class="checkout-btn" onclick="checkoutParking('nu-main')">
                                        Check Out & Pay
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="reservations-section">
                        <div class="section-title">Recent Activity</div>
                        <div id="recentReservations">
                            <!-- Completed Status -->
                            <div class="reservation-item completed" data-status="completed">
                                <div class="reservation-header">
                                    <div class="reservation-info">
                                        <div class="parking-name">One Archer's Place</div>
                                        <div class="reservation-date">Yesterday, 2:30 PM - 4:45 PM</div>
                                    </div>
                                    <div class="reservation-status">
                                        <span class="status-badge completed">Completed</span>
                                    </div>
                                </div>
                                <div class="reservation-details">
                                    <div class="detail-item">
                                        <span>Duration:</span>
                                        <span>2h 15m</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Total Paid:</span>
                                        <span>₱68</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Payment Method:</span>
                                        <span>Cash on exit</span>
                                    </div>
                                </div>
                                <div class="reservation-actions">
                                    <button class="review-btn" onclick="leaveReview('one-archers')">
                                        Leave Review
                                    </button>
                                </div>
                            </div>

                            <!-- Cancelled Status -->
                            <div class="reservation-item cancelled" data-status="cancelled">
                                <div class="reservation-header">
                                    <div class="reservation-info">
                                        <div class="parking-name">UST Main Parking</div>
                                        <div class="reservation-date">3 days ago, 9:15 AM</div>
                                    </div>
                                    <div class="reservation-status">
                                        <span class="status-badge cancelled">Cancelled</span>
                                    </div>
                                </div>
                                <div class="reservation-details">
                                    <div class="detail-item">
                                        <span>Downpayment:</span>
                                        <span>₱60 (Non-refundable)</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Cancellation time:</span>
                                        <span>15 minutes after booking</span>
                                    </div>
                                    <div class="detail-item">
                                        <span>Reason:</span>
                                        <span>Plans changed</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Empty State (for filtered results) -->
                    <div id="emptyState" class="empty-state" style="display: none;">
                        <div class="empty-text">No Reservations Found</div>
                        <div class="empty-subtext">
                            No reservations match the selected filter. 
                            Browse available parking spots to make a new reservation.
                        </div>
                        <button class="empty-action-btn" onclick="window.location.href='home.html'">
                            Find Parking
                        </button>
                    </div>
                </div>

                <!-- Private Parking Section -->
                <div class="parking-section" id="privateSection" style="display: none;">
                    <!-- Search & Filter for Private -->
                    <div class="private-search-section">
                        <div class="search-filters">
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label>Date</label>
                                    <input type="date" id="privateDate" class="filter-input" min="2024-01-01">
                                </div>
                                <div class="filter-group">
                                    <label>Time</label>
                                    <input type="time" id="privateTime" class="filter-input" value="09:00">
                                </div>
                            </div>
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label>Duration</label>
                                    <select id="privateDuration" class="filter-input">
                                        <option value="4">4 hours</option>
                                        <option value="6">6 hours</option>
                                        <option value="8" selected>8 hours</option>
                                        <option value="12">12 hours</option>
                                        <option value="24">Full day (24h)</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label>Near</label>
                                    <select id="privateUniversity" class="filter-input">
                                        <option value="dlsu">DLSU Campus</option>
                                        <option value="ust">UST Campus</option>
                                        <option value="ateneo">Ateneo Campus</option>
                                        <option value="nu">NU Campus</option>
                                    </select>
                                </div>
                            </div>
                            <button class="search-btn-private" onclick="searchPrivateParking()">
                                Search Available Slots
                            </button>
                        </div>
                    </div>

                    <!-- Private Parking Results -->
                    <div class="private-results-section">
                        <div class="section-title">Available Private Slots</div>
                        <div id="privateResults">
                            <!-- Sample private parking listings -->
                            <div class="private-listing-card">
                                <div class="listing-header">
                                    <div class="listing-info">
                                        <div class="listing-title">One Archer's Place - Tower A</div>
                                        <div class="listing-distance">0.3 km from DLSU • 5 min walk</div>
                                        <div class="listing-details">Level 2, Slot 15 • Covered parking</div>
                                    </div>
                                    <div class="listing-price">
                                        <div class="price-amount">₱200</div>
                                        <div class="price-duration">8 hours</div>
                                    </div>
                                </div>
                                <div class="listing-meta">
                                    <div class="listing-time">Today, 9:00 AM - 5:00 PM</div>
                                    <div class="listing-rating">⭐ 4.8 (12 reviews)</div>
                                </div>
                                <div class="listing-actions">
                                    <button class="book-btn" onclick="bookPrivateSlot('one-archers-a15')">
                                        Book Now - ₱50 deposit
                                    </button>
                                </div>
                            </div>

                            <div class="private-listing-card">
                                <div class="listing-header">
                                    <div class="listing-info">
                                        <div class="listing-title">The Residences - Building B</div>
                                        <div class="listing-distance">0.5 km from DLSU • 7 min walk</div>
                                        <div class="listing-details">Ground floor, Slot 8 • Easy access</div>
                                    </div>
                                    <div class="listing-price">
                                        <div class="price-amount">₱150</div>
                                        <div class="price-duration">8 hours</div>
                                    </div>
                                </div>
                                <div class="listing-meta">
                                    <div class="listing-time">Today, 9:00 AM - 5:00 PM</div>
                                    <div class="listing-rating">⭐ 4.5 (8 reviews)</div>
                                </div>
                                <div class="listing-actions">
                                    <button class="book-btn" onclick="bookPrivateSlot('residences-b8')">
                                        Book Now - ₱50 deposit
                                    </button>
                                </div>
                            </div>

                            <div class="private-listing-card">
                                <div class="listing-header">
                                    <div class="listing-info">
                                        <div class="listing-title">Malate Towers - Unit 15A</div>
                                        <div class="listing-distance">0.7 km from DLSU • 9 min walk</div>
                                        <div class="listing-details">Basement 1, Slot 23 • Secure parking</div>
                                    </div>
                                    <div class="listing-price">
                                        <div class="price-amount">₱120</div>
                                        <div class="price-duration">8 hours</div>
                                    </div>
                                </div>
                                <div class="listing-meta">
                                    <div class="listing-time">Today, 9:00 AM - 5:00 PM</div>
                                    <div class="listing-rating">⭐ 5.0 (3 reviews)</div>
                                </div>
                                <div class="listing-actions">
                                    <button class="book-btn" onclick="bookPrivateSlot('malate-towers-23')">
                                        Book Now - ₱50 deposit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- My Private Bookings -->
                    <div class="private-bookings-section">
                        <div class="section-title">My Private Bookings</div>
                        <div id="privateBookings">
                            <div class="empty-state">
                                <div class="empty-icon">📅</div>
                                <div class="empty-text">No Private Bookings Yet</div>
                                <div class="empty-subtext">
                                    Book a private parking slot to see your reservations here.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bottom-nav">
                <a href="home.html" class="nav-item">
                    <div class="nav-icon">Home</div>
                </a>
                <a href="reservations.html" class="nav-item active">
                    <div class="nav-icon">Parking</div>
                </a>
                <a href="profile.html" class="nav-item">
                    <div class="nav-icon">Profile</div>
                </a>
            </div>
        </div>
    </div>

    <script src="js/reservations.js"></script>
</body>
</html>